{"version":3,"file":"dist/env.min.js","sources":["dist/env.js"],"names":["global","factory","module","exports","this","window","_l2js","l2js","options","keepDerivations","maxDerivedSymbols","files","core","Promise","deferred","prototype","then","successCallback","errorCallback","result","q","promise","catch","Deferred","reject","reason","resolve","value","decimalAdjust","type","exp","Math","isNaN","NaN","toString","split","round10","floor10","ceil10","utils","copy","obj","isUndefined","out","constructor","key","hasProp","hasOwnProperty","extend","child","parent","call","ctor","__super__","indexOf","arr","item","i","length","v","isFunction","functionToCheck","getType","toUpperFirstLetter","string","charAt","toUpperCase","slice","padLeft","str","padChar","normalizeAngle","angle","interval","HSVToRGB","color","h","s","r","g","b","floor","f","p","t","model","a","RGBToInt","norm","c","rgba","colorToHexString","colorInt","hexStringToInt","parseInt","hexStrAlpha","round","hex","substring","compiler","env","Alphabet","id","symbols","hasSymbol","symbol","SubLSystem","ctx","lsystem","axiom","maxIterations","undefined","derive","lsystemInst","derivation","interpretation","Stack","start","end","LSystem","opts","rulesProbabilities","checkAlphabetSymbol","arguments","max","totalIterations","derivations","interpretations","deriveString","push","ancestor","successor","j","Error","stats","numberOfDerivedSymbols","concat","findDerivation","toDerive","ruleType","hash","makeHash","rules","rule","probability","threshold","random","sum","apply","args","params","getModule","alphabet","getParamModule","LScript","der","main","SubLScript","lscript","compile","code","Compiler","lsystemCode","eval","interpretAll","interpret","Interpret","all","format","setTimeout","errHandler","err","ast","toAST","l2","ASTToL2","e","evolve","numberOfIndividuals","scripts","lsystems","asts","evaluation","evolver","Evolver"],"mappings":"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"}